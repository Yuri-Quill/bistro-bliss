{"version":3,"file":"MenuDetailPage-DqyS78PT.js","sources":["../../src/pages/MenuDetailPage/MenuDetailPage.tsx"],"sourcesContent":["import { useNavigate, useParams } from \"react-router-dom\";\r\nimport { useAppSelector, useAppDispatch } from \"../../app/hooks\";\r\nimport { useEffect } from \"react\";\r\n\r\nimport { getMenuItemById } from \"../../app/slices/menuSlice\";\r\n\r\nimport Container from \"../../Components/Container/Container\";\r\nimport Loading from \"../../Components/Loading/Loading\";\r\nimport NoImage from \"../../assets/no-img.jpg\";\r\nimport \"./MenuDetailPage.scss\";\r\nimport cn from \"classnames\";\r\nimport ButtonLink from \"../../Components/ButtonLink/ButtonLink\";\r\n\r\nconst MenuDetailPage = () => {\r\n\tconst dispatch = useAppDispatch();\r\n\tconst navigate = useNavigate();\r\n\tconst { loading, selectedItem, categories } = useAppSelector(\r\n\t\t(state) => state.menu\r\n\t);\r\n\r\n\tconst { categories: categoryParam, id } = useParams<{\r\n\t\tcategories: string;\r\n\t\tid: string;\r\n\t}>();\r\n\r\n\tlet trueCategory: string | undefined;\r\n\r\n\tif (categoryParam === \"all\") {\r\n\t\ttrueCategory = categories.find((cat) =>\r\n\t\t\tcat.items.some((item) => item._id === id)\r\n\t\t)?.category;\r\n\r\n\t\tif (trueCategory) {\r\n\t\t\tnavigate(`/menu/${trueCategory}/${id}`, { replace: true });\r\n\t\t}\r\n\t} else {\r\n\t\ttrueCategory = categoryParam;\r\n\t}\r\n\r\n\tconsole.log(trueCategory);\r\n\tuseEffect(() => {\r\n\t\tif (id && trueCategory) {\r\n\t\t\tdispatch(getMenuItemById({ category: trueCategory, id }));\r\n\t\t}\r\n\t}, [dispatch, id, trueCategory]);\r\n\r\n\tconst detailAlcoholCn = cn(\"menu-detail__subtext\", \"menu-detail__alcohol\", {\r\n\t\t\"menu-detail__alcohol--active\": selectedItem?.alcohol_content,\r\n\t});\r\n\r\n\treturn (\r\n\t\t<section className=\"menu-detail\">\r\n\t\t\t<Container>\r\n\t\t\t\t{loading ? (\r\n\t\t\t\t\t<Loading />\r\n\t\t\t\t) : (\r\n\t\t\t\t\tselectedItem && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<h2 className=\"menu-detail__title\">{selectedItem.name}</h2>\r\n\t\t\t\t\t\t\t<figure className=\"menu-detail__figure\">\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tclassName=\"menu-detail__image\"\r\n\t\t\t\t\t\t\t\t\tsrc={`${selectedItem.picture ? selectedItem?.picture : NoImage}`}\r\n\t\t\t\t\t\t\t\t\talt={`image for ${selectedItem.name}`}\r\n\t\t\t\t\t\t\t\t\twidth={500}\r\n\t\t\t\t\t\t\t\t\theight={500}\r\n\t\t\t\t\t\t\t\t\tloading=\"lazy\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<figcaption className=\"menu-detail__caption\">\r\n\t\t\t\t\t\t\t\t\t<h4 className=\"menu-detail__subtitle\">\r\n\t\t\t\t\t\t\t\t\t\tPrice:{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t<span className=\"menu-detail__subtext menu-detail__subtext--price\">{`$ ${selectedItem.price}`}</span>\r\n\t\t\t\t\t\t\t\t\t</h4>\r\n\r\n\t\t\t\t\t\t\t\t\t<div className=\"menu-detail__list-wrapper\">\r\n\t\t\t\t\t\t\t\t\t\t<h4 className=\"menu-detail__subtitle menu-detail__subtitle--ingredients\">\r\n\t\t\t\t\t\t\t\t\t\t\tIngredients :\r\n\t\t\t\t\t\t\t\t\t\t</h4>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<ul className=\"menu-detail__list\">\r\n\t\t\t\t\t\t\t\t\t\t\t{selectedItem.ingredients.map((ing, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<li className=\"menu-detail__list-item\" key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ing}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<h4 className=\"menu-detail__subtitle\">\r\n\t\t\t\t\t\t\t\t\t\tCalories:{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t<span className=\"menu-detail__subtext menu-detail__subtext--calories\">\r\n\t\t\t\t\t\t\t\t\t\t\t{selectedItem.calories}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t</h4>\r\n\r\n\t\t\t\t\t\t\t\t\t<h4 className=\"menu-detail__subtitle\">\r\n\t\t\t\t\t\t\t\t\t\tPreparation time:{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t<span className=\"menu-detail__subtext menu-detail__subtext--prep-time\">\r\n\t\t\t\t\t\t\t\t\t\t\t{`${selectedItem.preparation_time} m.`}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t</h4>\r\n\r\n\t\t\t\t\t\t\t\t\t{categoryParam === \"drinks\" && (\r\n\t\t\t\t\t\t\t\t\t\t<h4 className=\"menu-detail__subtitle\">\r\n\t\t\t\t\t\t\t\t\t\t\tAlcohol:{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t<span className={detailAlcoholCn}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{selectedItem.alcohol_content ? \"Contains Alcohol\" : \"No Alcohol\"}\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</figcaption>\r\n\t\t\t\t\t\t\t</figure>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)\r\n\t\t\t\t)}\r\n\t\t\t\t<ButtonLink\r\n\t\t\t\t\tclassName=\"menu-detail__link\"\r\n\t\t\t\t\thref={`/menu?category=${categoryParam}&page=1`}\r\n\t\t\t\t\tisActive={true}\r\n\t\t\t\t\taria=\"Go back to menu page\"\r\n\t\t\t\t>\r\n\t\t\t\t\tBack to menu\r\n\t\t\t\t</ButtonLink>\r\n\t\t\t</Container>\r\n\t\t</section>\r\n\t);\r\n};\r\n\r\nexport default MenuDetailPage;\r\n"],"names":["MenuDetailPage","dispatch","useAppDispatch","navigate","useNavigate","loading","selectedItem","categories","useAppSelector","state","categoryParam","id","useParams","trueCategory","_a","cat","item","useEffect","getMenuItemById","detailAlcoholCn","cn","jsx","Container","Loading","jsxs","Fragment","NoImage","ing","index","ButtonLink"],"mappings":"uJAaA,MAAMA,EAAiB,IAAM,OAC5B,MAAMC,EAAWC,EAAe,EAC1BC,EAAWC,EAAY,EACvB,CAAE,QAAAC,EAAS,aAAAC,EAAc,WAAAC,CAAe,EAAAC,EAC5CC,GAAUA,EAAM,IAClB,EAEM,CAAE,WAAYC,EAAe,GAAAC,CAAA,EAAOC,EAGvC,EAEC,IAAAC,EAEAH,IAAkB,OACrBG,GAAeC,EAAAP,EAAW,KAAMQ,GAC/BA,EAAI,MAAM,KAAMC,GAASA,EAAK,MAAQL,CAAE,CAAA,IAD1B,YAAAG,EAEZ,SAECD,GACMV,EAAA,SAASU,CAAY,IAAIF,CAAE,GAAI,CAAE,QAAS,GAAM,GAG3CE,EAAAH,EAGhB,QAAQ,IAAIG,CAAY,EACxBI,EAAAA,UAAU,IAAM,CACXN,GAAME,GACTZ,EAASiB,EAAgB,CAAE,SAAUL,EAAc,GAAAF,CAAI,CAAA,CAAC,CAEvD,EAAA,CAACV,EAAUU,EAAIE,CAAY,CAAC,EAEzB,MAAAM,EAAkBC,EAAG,uBAAwB,uBAAwB,CAC1E,+BAAgCd,GAAA,YAAAA,EAAc,eAAA,CAC9C,EAED,OACEe,EAAA,IAAA,UAAA,CAAQ,UAAU,cAClB,gBAACC,EACC,CAAA,SAAA,CAAAjB,EACCgB,EAAAA,IAAAE,EAAA,CAAQ,CAAA,EAETjB,GAEEkB,EAAA,KAAAC,WAAA,CAAA,SAAA,CAAAJ,EAAA,IAAC,KAAG,CAAA,UAAU,qBAAsB,SAAAf,EAAa,KAAK,EACtDkB,EAAAA,KAAC,SAAO,CAAA,UAAU,sBACjB,SAAA,CAAAH,EAAA,IAAC,MAAA,CACA,UAAU,qBACV,IAAK,GAAGf,EAAa,QAAUA,GAAA,YAAAA,EAAc,QAAUoB,CAAO,GAC9D,IAAK,aAAapB,EAAa,IAAI,GACnC,MAAO,IACP,OAAQ,IACR,QAAQ,MAAA,CACT,EACAkB,EAAAA,KAAC,aAAW,CAAA,UAAU,uBACrB,SAAA,CAACA,EAAAA,KAAA,KAAA,CAAG,UAAU,wBAAwB,SAAA,CAAA,SAC9B,UACN,OAAK,CAAA,UAAU,mDAAoD,SAAK,KAAAlB,EAAa,KAAK,EAAG,CAAA,CAAA,EAC/F,EAEAkB,EAAAA,KAAC,MAAI,CAAA,UAAU,4BACd,SAAA,CAACH,EAAA,IAAA,KAAA,CAAG,UAAU,2DAA2D,SAEzE,gBAAA,QAEC,KAAG,CAAA,UAAU,oBACZ,SAAAf,EAAa,YAAY,IAAI,CAACqB,EAAKC,UAClC,KAAG,CAAA,UAAU,yBACZ,SAD0CD,CAAA,EAAAC,CAE5C,CACA,CACF,CAAA,CAAA,EACD,EACAJ,EAAAA,KAAC,KAAG,CAAA,UAAU,wBAAwB,SAAA,CAAA,YAC3B,IACTH,EAAA,IAAA,OAAA,CAAK,UAAU,sDACd,WAAa,QACf,CAAA,CAAA,EACD,EAEAG,EAAAA,KAAC,KAAG,CAAA,UAAU,wBAAwB,SAAA,CAAA,oBACnB,UACjB,OAAK,CAAA,UAAU,uDACd,SAAG,GAAAlB,EAAa,gBAAgB,KAClC,CAAA,CAAA,EACD,EAECI,IAAkB,UACjBc,OAAA,KAAA,CAAG,UAAU,wBAAwB,SAAA,CAAA,WAC5B,UACR,OAAK,CAAA,UAAWL,EACf,SAAab,EAAA,gBAAkB,mBAAqB,YACtD,CAAA,CAAA,CACD,CAAA,CAAA,CAEF,CAAA,CAAA,CACD,CAAA,CAAA,EACD,EAGFe,EAAA,IAACQ,EAAA,CACA,UAAU,oBACV,KAAM,kBAAkBnB,CAAa,UACrC,SAAU,GACV,KAAK,uBACL,SAAA,cAAA,CAAA,CAED,CAAA,CACD,CACD,CAAA,CAEF"}